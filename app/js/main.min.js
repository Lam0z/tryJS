const messageField=document.querySelector(".tasks__field"),messageCount=document.querySelector(".tasks__rule-info span"),tasksSendBtn=document.querySelector(".tasks__btn"),tasksList=document.querySelector(".tasks__list"),templateListItem=document.querySelector("#list-item").content,priorityBtn=document.querySelector(".tasks__priority-btn");let textInfo=document.createElement("p");textInfo.textContent="Список задач пуст!",textInfo.classList.add("text-center","font-weight-bold","text-light"),0==tasksList.children.length&&tasksList.appendChild(textInfo);let addClosehandler=(e,t)=>{e.addEventListener("click",()=>{t.remove(),0==tasksList.children.length&&tasksList.appendChild(textInfo)})},createElement=()=>{let e=templateListItem.cloneNode("true").querySelector(".tasks__item"),t=e.querySelector(".tasks__text"),s=e.querySelector(".close-span");t.textContent=messageField.value,addClosehandler(s,e),tasksList.appendChild(e),messageField.value="",messageCount.textContent="0",0!=tasksList.children.length&&textInfo.remove(),priorityBtn.classList.contains("btn-warning")&&e.classList.add("bg-warning"),tasksSendBtn.setAttribute("disabled","disabled")};priorityBtn.addEventListener("click",()=>{priorityBtn.classList.toggle("btn-warning"),console.log(),priorityBtn.classList.contains("btn-warning")?priorityBtn.textContent="Важная задача":priorityBtn.textContent="Обычная задача"}),messageField.addEventListener("input",()=>{messageCount.textContent=messageField.value.length,(messageField.value.length>50||messageField.value.length<=3)&&tasksSendBtn.setAttribute("disabled","disabled"),messageField.value.length>50?(messageField.style.borderColor="red",messageField.style.color="red",messageCount.style.color="red"):(messageField.style.borderColor="",messageField.style.color="",messageCount.style.color="",messageField.value.length>3&&tasksSendBtn.removeAttribute("disabled"))}),messageField.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),console.log("press"),createElement())}),tasksSendBtn.addEventListener("click",createElement);